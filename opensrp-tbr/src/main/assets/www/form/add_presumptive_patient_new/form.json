{
  "name":"screening_form",
  "type":"survey",
  "instance":{
    "encounter_type":"Screening"
  },
  "title":"Screening Form",
  "id_string":"uganda_screening_form",
  "sms_keyword":"uganda_screening_form",
  "default_language":"English",
  "version":"201904181141",
  "children":[
    {
      "name":"provider_uc",
      "type":"hidden"
    },
    {
      "name":"provider_town",
      "type":"hidden"
    },
    {
      "name":"provider_city",
      "type":"hidden"
    },
    {
      "name":"provider_province",
      "type":"hidden"
    },
    {
      "name":"provider_id",
      "type":"hidden"
    },
    {
      "name":"provider_location_id",
      "type":"hidden",
      "instance":{
        "openmrs_entity_id":"location_id",
        "openmrs_entity":"encounter"
      }
    },
    {
      "name":"provider_location_name",
      "type":"hidden"
    },
    {
      "name":"provider_location_note",
      "label":{
        "English":"City: ${provider_city} ; Town: ${provider_town} ; UC: ${provider_uc} ; Center Name: ${provider_location_name}",
        "Roman Urdu":"Shehr: ${provider_city} ; Town: ${provider_town} ; UC: ${provider_uc} ; Center ka naam: ${provider_location_name}"
      },
      "type":"note"
    },
    {
      "name":"start",
      "type":"start",
      "instance":{
        "openmrs_entity_id":"TBR:form start datetime",
        "openmrs_entity":"concept"
      }
    },
    {
      "name":"end",
      "type":"end",
      "instance":{
        "openmrs_entity_id":"TBR:form end datetime",
        "openmrs_entity":"concept"
      }
    },
    {
      "name":"today",
      "type":"today",
      "instance":{
        "openmrs_entity_id":"TBR:data enty datetime",
        "openmrs_entity":"concept"
      }
    },
    {
      "name":"deviceid",
      "type":"deviceid",
      "instance":{
        "openmrs_entity_id":"TBR:device id",
        "openmrs_entity":"concept"
      }
    },
    {
      "name":"subscriberid",
      "type":"subscriberid",
      "instance":{
        "openmrs_entity_id":"TBR:subscriber id",
        "openmrs_entity":"concept"
      }
    },
    {
      "name":"simserial",
      "type":"simserial",
      "instance":{
        "openmrs_entity_id":"TBR:sim serial number",
        "openmrs_entity":"concept"
      }
    },
    {
      "name":"phonenumber",
      "type":"phonenumber",
      "instance":{
        "openmrs_entity_id":"TBR:sim number",
        "openmrs_entity":"concept"
      }
    },
    {
      "name":"client_reg_date",
      "label":{
        "English":"Data Entry Date",
        "Roman Urdu":"Indraj ki Tareekh"
      },
      "type":"calculate",
      "bind":{
        "calculate":"${today}"
      },
      "instance":{
        "openmrs_entity_id":"encounter_date",
        "openmrs_entity":"encounter"
      }
    },
    {
      "name":"screening_symptom",
      "label":{
        "English":"TB Symptom Screening"
      },
      "type":"group",
      "children":[
        {
          "name":"cough",
          "label":{
            "English":"Are you currently coughing?",
            "Roman Urdu":"Kya aapko khaasi hai?"
          },
          "type":"select one",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"TBR:cough",
            "openmrs_entity":"concept"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes",
                "Roman Urdu":"Haan"
              },
              "instance":{
                "openmrs_code":"TBR:yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No",
                "Roman Urdu":"Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:no"
              }
            },
            {
              "name":"dont_know",
              "label":{
                "English":"Don't Know",
                "Roman Urdu":"Pata Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:unknown"
              }
            },
            {
              "name":"refuse",
              "label":{
                "English":"Refuse",
                "Roman Urdu":"Jawab nahi dena"
              },
              "instance":{
                "openmrs_code":"TBR:refused"
              }
            }
          ]
        },
        {
          "name":"cough_duration",
          "label":{
            "English":"If yes, for how long have you been coughing?",
            "Roman Urdu":"Agar haan, kab se?"
          },
          "hint":{
            "English":"(days)"
          },
          "type":"integer",
          "bind":{
            "constraint":".>0",
            "relevant":"${cough} = 'yes'"
          },
          "instance":{
            "openmrs_entity_id":"TBR:cough duration",
            "openmrs_entity":"concept"
          }
        },
        {
          "name":"cough_phlegm",
          "label":{
            "English":"Do you currently cough up sputum?",
            "Roman Urdu":"Kya aapki khaasi mein balgam ati hai?"
          },
          "type":"select one",
          "bind":{
            "relevant":"${cough} = 'yes'"
          },
          "instance":{
            "openmrs_entity_id":"TBR:productive cough",
            "openmrs_entity":"concept"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes",
                "Roman Urdu":"Haan"
              },
              "instance":{
                "openmrs_code":"TBR:yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No",
                "Roman Urdu":"Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:no"
              }
            },
            {
              "name":"dont_know",
              "label":{
                "English":"Don't Know",
                "Roman Urdu":"Pata Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:unknown"
              }
            },
            {
              "name":"refuse",
              "label":{
                "English":"Refuse",
                "Roman Urdu":"Jawab nahi dena"
              },
              "instance":{
                "openmrs_code":"TBR:refused"
              }
            }
          ]
        },
        {
          "name":"haemoptysis",
          "label":{
            "English":"Do you currently cough up blood?",
            "Roman Urdu":"Kya aapki khaasi mein khoon ata hai?"
          },
          "type":"select one",
          "bind":{
            "relevant":"${cough} = 'yes'"
          },
          "instance":{
            "openmrs_entity_id":"TBR:haemoptysis",
            "openmrs_entity":"concept"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes",
                "Roman Urdu":"Haan"
              },
              "instance":{
                "openmrs_code":"TBR:yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No",
                "Roman Urdu":"Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:no"
              }
            },
            {
              "name":"dont_know",
              "label":{
                "English":"Don't Know",
                "Roman Urdu":"Pata Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:unknown"
              }
            },
            {
              "name":"refuse",
              "label":{
                "English":"Refuse",
                "Roman Urdu":"Jawab nahi dena"
              },
              "instance":{
                "openmrs_code":"TBR:refused"
              }
            }
          ]
        },
        {
          "name":"chest_pain",
          "label":{
            "English":"Do you currently have chest pain?",
            "Roman Urdu":"Kya aapko seeney mein dard mehsoos hota hai?"
          },
          "type":"select one",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"TBR:chest pain",
            "openmrs_entity":"concept"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes",
                "Roman Urdu":"Haan"
              },
              "instance":{
                "openmrs_code":"TBR:yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No",
                "Roman Urdu":"Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:no"
              }
            },
            {
              "name":"dont_know",
              "label":{
                "English":"Don't Know",
                "Roman Urdu":"Pata Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:unknown"
              }
            },
            {
              "name":"refuse",
              "label":{
                "English":"Refuse",
                "Roman Urdu":"Jawab nahi dena"
              },
              "instance":{
                "openmrs_code":"TBR:refused"
              }
            }
          ]
        },
        {
          "name":"chest_pain_duration",
          "label":{
            "English":"If yes, for how long?",
            "Roman Urdu":"Agar haan, kab se?"
          },
          "hint":{
            "English":"(days)"
          },
          "type":"integer",
          "bind":{
            "constraint":".>0",
            "relevant":"${chest_pain} = 'yes'"
          },
          "instance":{
            "openmrs_entity_id":"TBR:chest pain duration",
            "openmrs_entity":"concept"
          }
        },
        {
          "name":"fever",
          "label":{
            "English":"Do you currently have a fever?",
            "Roman Urdu":"Kya aapko bhukar hai?"
          },
          "type":"select one",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"TBR:fever",
            "openmrs_entity":"concept"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes",
                "Roman Urdu":"Haan"
              },
              "instance":{
                "openmrs_code":"TBR:yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No",
                "Roman Urdu":"Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:no"
              }
            },
            {
              "name":"dont_know",
              "label":{
                "English":"Don't Know",
                "Roman Urdu":"Pata Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:unknown"
              }
            },
            {
              "name":"refuse",
              "label":{
                "English":"Refuse",
                "Roman Urdu":"Jawab nahi dena"
              },
              "instance":{
                "openmrs_code":"TBR:refused"
              }
            }
          ]
        },
        {
          "name":"fever_duration",
          "label":{
            "English":"If yes, for how long?",
            "Roman Urdu":"Agar haan, kab se?"
          },
          "hint":{
            "English":"(days)"
          },
          "type":"integer",
          "bind":{
            "constraint":".>0",
            "relevant":"${fever} = 'yes'"
          },
          "instance":{
            "openmrs_entity_id":"TBR:fever duration",
            "openmrs_entity":"concept"
          }
        },
        {
          "name":"night_sweats",
          "label":{
            "English":"Do you currently have drenching night sweats (so that you have to change your bedclothes)?",
            "Roman Urdu":"Kya aapko thandey paseeney atey hain?"
          },
          "type":"select one",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"TBR:night sweats",
            "openmrs_entity":"concept"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes",
                "Roman Urdu":"Haan"
              },
              "instance":{
                "openmrs_code":"TBR:yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No",
                "Roman Urdu":"Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:no"
              }
            },
            {
              "name":"dont_know",
              "label":{
                "English":"Don't Know",
                "Roman Urdu":"Pata Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:unknown"
              }
            },
            {
              "name":"refuse",
              "label":{
                "English":"Refuse",
                "Roman Urdu":"Jawab nahi dena"
              },
              "instance":{
                "openmrs_code":"TBR:refused"
              }
            }
          ]
        },
        {
          "name":"night_sweats_duration",
          "label":{
            "English":"If yes, for how long?",
            "Roman Urdu":"Agar haan, kab se?"
          },
          "hint":{
            "English":"(days)"
          },
          "type":"integer",
          "bind":{
            "constraint":".>0",
            "relevant":"${night_sweats} = 'yes'"
          },
          "instance":{
            "openmrs_entity_id":"TBR:night sweats duration",
            "openmrs_entity":"concept"
          }
        },
        {
          "name":"weight_loss",
          "label":{
            "English":"In the past month, have you unexpectedly lost weight?",
            "Roman Urdu":"Kya aapka wazan bohut tezi se gir raha hai?"
          },
          "type":"select one",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"TBR:sudden weight loss",
            "openmrs_entity":"concept"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes",
                "Roman Urdu":"Haan"
              },
              "instance":{
                "openmrs_code":"TBR:yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No",
                "Roman Urdu":"Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:no"
              }
            },
            {
              "name":"dont_know",
              "label":{
                "English":"Don't Know",
                "Roman Urdu":"Pata Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:unknown"
              }
            },
            {
              "name":"refuse",
              "label":{
                "English":"Refuse",
                "Roman Urdu":"Jawab nahi dena"
              },
              "instance":{
                "openmrs_code":"TBR:refused"
              }
            }
          ]
        },
        {
          "name":"symptoms_other",
          "label":{
            "English":"Do you currently have any other symptoms(s)?",
            "Roman Urdu":"Kya aapko koi aur alamaat hain?"
          },
          "type":"select one",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"TBR:other",
            "openmrs_entity":"concept"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes",
                "Roman Urdu":"Haan"
              },
              "instance":{
                "openmrs_code":"TBR:yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No",
                "Roman Urdu":"Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:no"
              }
            },
            {
              "name":"dont_know",
              "label":{
                "English":"Don't Know",
                "Roman Urdu":"Pata Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:unknown"
              }
            },
            {
              "name":"refuse",
              "label":{
                "English":"Refuse",
                "Roman Urdu":"Jawab nahi dena"
              },
              "instance":{
                "openmrs_code":"TBR:refused"
              }
            }
          ]
        },
        {
          "name":"symptoms_other_specify",
          "label":{
            "English":"If yes, what symptom(s)?",
            "Roman Urdu":"Agar haan, konsi?"
          },
          "type":"text",
          "bind":{
            "relevant":"${symptoms_other} = 'yes'"
          },
          "instance":{
            "openmrs_entity_id":"TBR:other",
            "openmrs_entity":"concept"
          }
        },
        {
          "name":"presumptive",
          "label":{
            "English":"Does this person have TB symptoms?",
            "Roman Urdu":"Kya iss mareez ko TB hai?"
          },
          "type":"calculate",
          "bind":{
            "calculate":"if(${cough}='yes' or ${chest_pain}='yes' or ${cough_phlegm}='yes' or ${fever}='yes' or ${night_sweats}='yes' or ${weight_loss}='yes' or ${haemoptysis}='yes','yes','no')"
          },
          "instance":{
            "openmrs_entity_id":"TBR:presumptive tuberculosis case",
            "openmrs_entity":"concept"
          }
        }
      ]
    },
    {
      "name":"demographic_info",
      "label":{
        "English":"Demographic Information"
      },
      "type":"group",
      "children":[
        {
          "name":"age",
          "label":{
            "English":"Current Age",
            "Roman Urdu":"Umar"
          },
          "hint":{
            "English":"(years)",
            "Roman Urdu":"(saal)"
          },
          "type":"integer",
          "bind":{
            "required":"yes",
            "constraint":". >0 and . <=120",
            "jr:constraintMsg":{
              "English":"Must be at least 1 year old and less than 120 years of age"
            }
          },
          "instance":{
            "openmrs_entity_id":"age",
            "openmrs_entity":"person"
          }
        },
        {
          "name":"gender",
          "label":{
            "English":"Gender",
            "Roman Urdu":"Jins"
          },
          "type":"select one",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"gender",
            "openmrs_entity":"person"
          },
          "children":[
            {
              "name":"male",
              "label":{
                "English":"Male",
                "Roman Urdu":"Mard/larka"
              },
              "instance":{
                "openmrs_code":"TBR: male"
              }
            },
            {
              "name":"female",
              "label":{
                "English":"Female",
                "Roman Urdu":"Aurat/larki"
              },
              "instance":{
                "openmrs_code":"TBR: female"
              }
            }
          ]
        }
      ]
    },
    {
      "name":"presumptive_info",
      "label":{
        "English":"Presumptive Information"
      },
      "type":"group",
      "bind":{
        "relevant":"${presumptive}='yes'"
      },
      "children":[
        {
          "name":"first_name",
          "label":{
            "English":"First Name",
            "Roman Urdu":"Naam"
          },
          "type":"text",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"first_name",
            "openmrs_entity":"person"
          }
        },
        {
          "name":"last_name",
          "label":{
            "English":"Last Name",
            "Roman Urdu":"Walid ya shohar ka naam"
          },
          "type":"text",
          "instance":{
            "openmrs_entity_id":"last_name",
            "openmrs_entity":"person"
          }
        },
        {
          "name":"participant_id",
          "label":{
            "English":"Health Unit TB number",
            "Roman Urdu":"ID"
          },
          "type":"text",
          "bind":{
            "required":"yes",
            "constraint":"regex(., '[A-Z0-9]{0,20}$')",
            "jr:constraintMsg":{
              "English":"Maximum 20 digits and cannot contain anything other than number"
            }
          },
          "instance":{
            "openmrs_entity_id":"TBREACH ID",
            "openmrs_entity":"person_identifier"
          }
        },
        /*            {
           "name":"program_id",
           "label":{
              "English":"Program ID",
              "Roman Urdu":"Program ID"
           },
           "type":"text",
           "bind":{
              "constraint":"regex(., '[A-Z0-9]{15}$')"
           },
           "instance":{
              "openmrs_entity_id":"TBREACH Program ID",
              "openmrs_entity":"person_identifier"
           }
        },
        */            {
          "name":"national_id",
          "label":{
            "English":"National Identification Number",
            "Roman Urdu":"National Identification Number"
          },
          "type":"text",
          "instance":{
            "openmrs_entity_id":"CNIC",
            "openmrs_entity":"person_attribute"
          }
        },
        {
          "name":"close_tb_contact",
          "label":{
            "English":"Have you ever been in close contact with someone who was sick with TB?",
            "Roman Urdu":"Kya aapke kissi kareebi dost ya rishtedaar ko TB howa hai?"
          },
          "type":"select one",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"TBR:tuberculosis contact",
            "openmrs_entity":"concept"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes",
                "Roman Urdu":"Haan"
              },
              "instance":{
                "openmrs_code":"TBR:yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No",
                "Roman Urdu":"Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:no"
              }
            },
            {
              "name":"dont_know",
              "label":{
                "English":"Don't Know",
                "Roman Urdu":"Pata Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:unknown"
              }
            },
            {
              "name":"refuse",
              "label":{
                "English":"Refuse",
                "Roman Urdu":"Jawab nahi dena"
              },
              "instance":{
                "openmrs_code":"TBR:refused"
              }
            }
          ]
        },
        {
          "name":"previous_tb_treatment",
          "label":{
            "English":"Have you ever taken TB treatment for more than one month?",
            "Roman Urdu":"Kya aapne kabhi TB ka ilaaj karwaya hai?"
          },
          "type":"select one",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"TBR:tuberculosis history",
            "openmrs_entity":"concept"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes",
                "Roman Urdu":"Haan"
              },
              "instance":{
                "openmrs_code":"TBR:yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No",
                "Roman Urdu":"Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:no"
              }
            },
            {
              "name":"dont_know",
              "label":{
                "English":"Don't Know",
                "Roman Urdu":"Pata Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:unknown"
              }
            },
            {
              "name":"refuse",
              "label":{
                "English":"Refuse",
                "Roman Urdu":"Jawab nahi dena"
              },
              "instance":{
                "openmrs_code":"TBR:refused"
              }
            }
          ]
        },
        {
          "name":"previous_tb_treatment_outcome",
          "label":{
            "English":"If yes, what was the outcome of your previous TB treatment?",
            "Roman Urdu":"Agar haan, tou uska nateja kya tha?"
          },
          "type":"select one",
          "bind":{
            "required":"yes",
            "relevant":"${previous_tb_treatment} = 'yes'"
          },
          "instance":{
            "openmrs_entity_id":"TBR:patient category",
            "openmrs_entity":"concept"
          },
          "control":{
            "appearance":"minimal"
          },
          "children":[
            {
              "name":"cured",
              "label":{
                "English":"Cured",
                "Roman Urdu":"Sehatyaab"
              },
              "instance":{
                "openmrs_code":"TBR:cured"
              }
            },
            {
              "name":"defaulted",
              "label":{
                "English":"Defaulted",
                "Roman Urdu":"pehley se the shuda"
              },
              "instance":{
                "openmrs_code":"TBR:retreatment after default, tuberculosis"
              }
            },
            {
              "name":"treatment_completed",
              "label":{
                "English":"Treatment Completed",
                "Roman Urdu":"Ilaaj mukammal ho gaya hay"
              },
              "instance":{
                "openmrs_code":"TBR:treatment complete"
              }
            },
            {
              "name":"transferred_out",
              "label":{
                "English":"Transferred out",
                "Roman Urdu":"ilaaj ke liye koi aur jagah ruju kiya"
              },
              "instance":{
                "openmrs_code":"TBR:transferred out"
              }
            },
            {
              "name":"regimen_failure",
              "label":{
                "English":"Regimen Failure",
                "Roman Urdu":"ilaaj nakaam raha"
              },
              "instance":{
                "openmrs_code":"TBR:regimen failure"
              }
            },
            {
              "name":"other",
              "label":{
                "English":"Other",
                "Roman Urdu":"Koi aur"
              },
              "instance":{
                "openmrs_code":"TBR:other"
              }
            },
            {
              "name":"unknown",
              "label":{
                "English":"Unknown",
                "Roman Urdu":"Pata nahi"
              },
              "instance":{
                "openmrs_code":"TBR:unknown"
              }
            }
          ]
        },
        {
          "name":"hiv_test",
          "label":{
            "English":"Have you had an HIV test in the past?",
            "Roman Urdu":"Kya aapne HIV ka test pishley 6 mahino mein karwaya hai?"
          },
          "type":"select one",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"TBR:hiv test",
            "openmrs_entity":"concept"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes",
                "Roman Urdu":"Haan"
              },
              "instance":{
                "openmrs_code":"TBR:yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No",
                "Roman Urdu":"Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:no"
              }
            },
            {
              "name":"dont_know",
              "label":{
                "English":"Don't Know",
                "Roman Urdu":"Pata Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:unknown"
              }
            },
            {
              "name":"refuse",
              "label":{
                "English":"Refuse",
                "Roman Urdu":"Jawab nahi dena"
              },
              "instance":{
                "openmrs_code":"TBR:refused"
              }
            }
          ]
        },
        {
          "name":"hiv_date",
          "label":{
            "English":"If yes, date of test?",
            "Roman Urdu":"Agar haan, test ki tareeq"
          },
          "type":"date",
          "bind":{
            "required":"yes",
            "constraint":".<= ${today}",
            "relevant":"${hiv_test} = 'yes'"
          },
          "instance":{
            "openmrs_entity_id":"TBR: hiv test date",
            "openmrs_entity":"concept"
          }
        },
        {
          "name":"hiv_results",
          "label":{
            "English":"If yes, what is your HIV status?",
            "Roman Urdu":"Test ka natija"
          },
          "type":"select one",
          "bind":{
            "required":"yes",
            "relevant":"${hiv_test} = 'yes'"
          },
          "instance":{
            "openmrs_entity_id":"TBR:hiv test result",
            "openmrs_entity":"concept"
          },
          "control":{
            "appearance":"minimal"
          },
          "children":[
            {
              "name":"CT1",
              "label":{
                "English":"HIV Negative",
                "Roman Urdu":"Negative"
              },
              "instance":{
                "openmrs_code":"TBR:positive"
              }
            },
            {
              "name":"CT2",
              "label":{
                "English":"HIV Positive",
                "Roman Urdu":"Positive"
              },
              "instance":{
                "openmrs_code":"TBR:negative"
              }
            },
            {
              "name":"Councelled",
              "label":{
                "English":"Indeterminate",
                "Roman Urdu":"Gair mukammal"
              },
              "instance":{
                "openmrs_code":"TBR:COUNCELLED"
              }
            },
            {
              "name":"Councelled and Tested",
              "label":{
                "English":"Don't Know",
                "Roman Urdu":"Pata Nahi"
              },
              "instance":{
                "openmrs_code":"TBR:COUNCELLED AND TESTED"
              }
            }
          ]
        },
        /*            {
           "name":"contact_phone_number",
           "label":{
              "English":"Mobile phone number:",
              "Roman Urdu":"Mobile phone number:"
           },
           "type":"text",
           "bind":{
              "required":"yes",
              "constraint":"regex(., '^07[0-9]{8}$')"
           },
           "instance":{
              "openmrs_entity_id":"Primary Contact Number",
              "openmrs_entity":"person_attribute"
           }
        }            */            {
          "name":"contact_phone_number",
          "label":{
            "English":"Mobile phone number:",
            "Roman Urdu":"Mobile phone number:"
          },
          "type":"text",
          "bind":{
            "required":"yes",
            "constraint":"regex(., '^07[0-9]{8}$')",
            "jr:constraintMsg":{
              "English":"Phone number should be 10 digits in the following format: 07********",
              "Roman Urdu":"Phone number 10 hindason par mushtamil aur mundarja zail shakal main hona chahiey: 07********"
            }
          },
          "instance":{
            "openmrs_entity_id":"Primary Contact Number",
            "openmrs_entity":"person_attribute"
          }
        },
        {
          "name":"parish",
          "label":{
            "English":"Parish",
            "Roman Urdu":"Suba"
          },
          "type":"text",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"stateProvince",
            "openmrs_entity":"person_address"
          },
          "control":{
            "appearance":"minimal"
          }
        },
        {
          "name":"village",
          "label":{
            "English":"Village",
            "Roman Urdu":"Shehr"
          },
          "type":"text",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"cityVillage",
            "openmrs_entity":"person_address"
          },
          "control":{
            "appearance":"minimal"
          },
          "choice_filter":"parish=${parish} or parish='na'"
        },
        {
          "name":"district",
          "label":{
            "English":"District",
            "Roman Urdu":"District / Qasbah / Basti"
          },
          "type":"text",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"town",
            "openmrs_entity":"person_address"
          },
          "control":{
            "appearance":"minimal"
          },
          "choice_filter":"(parish=${parish} and village=${village} ) or city='na'"
        },
        {
          "name":"subcounty",
          "label":{
            "English":"Sub-County",
            "Roman Urdu":"Union Council"
          },
          "type":"text",
          "bind":{
            "required":"yes"
          },
          "instance":{
            "openmrs_entity_id":"subTown",
            "openmrs_entity":"person_address"
          },
          "control":{
            "appearance":"minimal"
          },
          "choice_filter":"(parish=${parish} and village=${village} and district=${district}) or district='na'"
        },
        {
          "name":"full_address",
          "label":{
            "English":"Full address: ${address1}, ${subcounty}, ${district}. ${village}. ${parish}",
            "Roman Urdu":"Poora Pata: ${address1}, ${subcounty}, ${district}. ${village}. ${parish}"
          },
          "type":"note",
          "bind":{
            "calculate":"jr:choice-name(${parish}, '${parish}')"
          },
          "instance":{
            "openmrs_entity_id":"TBR:full address text",
            "openmrs_entity":"concept"
          }
        }
      ]
    },
    {
      "name":"comments",
      "label":{
        "English":"Comments",
        "Roman Urdu":"Tabsarah"
      },
      "type":"text",
      "instance":{
        "openmrs_entity_id":"TBR:additional notes",
        "openmrs_entity":"concept"
      },
      "control":{
        "appearance":"multiline"
      }
    },
    {
      "name":"meta",
      "type":"group",
      "control":{
        "bodyless":true
      },
      "children":[
        {
          "name":"instanceID",
          "type":"calculate",
          "bind":{
            "readonly":"true()",
            "calculate":"concat('uuid:', uuid())"
          }
        }
      ]
    }
  ]
}