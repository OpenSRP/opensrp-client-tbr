{
  "name":"child_health_indicators",
  "type":"survey",
  "instance":{
    "encounter_type":"child health indicators"
  },
  "title":"Child Health Indicators",
  "id_string":"child_health_indicators_form",
  "sms_keyword":"child_health_indicators_form",
  "default_language":"English",
  "version":"201906030729",
  "children":[
    {
      "name":"provider_uc",
      "type":"hidden"
    },
    {
      "name":"provider_town",
      "type":"hidden"
    },
    {
      "name":"provider_city",
      "type":"hidden"
    },
    {
      "name":"provider_province",
      "type":"hidden"
    },
    {
      "name":"provider_id",
      "type":"hidden"
    },
    {
      "name":"provider_location_id",
      "type":"hidden",
      "instance":{
        "openmrs_entity":"encounter",
        "openmrs_entity_id":"location_id"
      }
    },
    {
      "name":"provider_location_name",
      "type":"hidden"
    },
    {
      "name":"provider_location_note",
      "label":{
        "Roman Urdu":"Shehr: ${provider_city} ; Town: ${provider_town} ; UC: ${provider_uc} ; Center ka naam: ${provider_location_name}",
        "English":"City: ${provider_city} ; Town: ${provider_town} ; UC: ${provider_uc} ; Center Name: ${provider_location_name}"
      },
      "type":"note"
    },
    {
      "name":"start",
      "type":"start",
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR:form start datetime",
        "openmrs_entity_parent":"encounter start date/time"
      }
    },
    {
      "name":"end",
      "type":"end",
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR:form end datetime",
        "openmrs_entity_parent":"encounter end date/time"
      }
    },
    {
      "name":"today",
      "type":"today",
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR:data enty datetime",
        "openmrs_entity_parent":"Device-recorded encounter date/time"
      }
    },
    {
      "name":"deviceid",
      "type":"deviceid",
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR:device id",
        "openmrs_entity_parent":"Mobile device identifier"
      }
    },
    {
      "name":"subscriberid",
      "type":"subscriberid",
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR:subscriber id",
        "openmrs_entity_parent":"Mobile subscriber identifier"
      }
    },
    {
      "name":"simserial",
      "type":"simserial",
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR:sim serial number",
        "openmrs_entity_parent":"SIM serial number"
      }
    },
    {
      "name":"phonenumber",
      "type":"phonenumber",
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR:sim number",
        "openmrs_entity_parent":"Mobile phone number assigned by SIM"
      }
    },
    {
      "name":"client_reg_date",
      "label":{
        "Roman Urdu":"Indraj ki Tareekh",
        "English":"Data Entry Date"
      },
      "type":"calculate",
      "bind":{
        "calculate":"${today}"
      },
      "instance":{
        "openmrs_entity":"encounter",
        "openmrs_entity_id":"encounter_date"
      }
    },
    {
      "name":"program_id",
      "label":{
        "English":"Program ID"
      },
      "type":"hidden",
      "instance":{
        "openmrs_entity":"person_identifier",
        "openmrs_entity_id":"TBREACH Program ID"
      }
    },
    {
      "name":"program_id_note",
      "label":{
        "Roman Urdu":"Program ID",
        "English":"Program ID: ${program_id}"
      },
      "type":"note",
      "bind":{
        "required":"yes"
      }
    },
    {
      "name":"first_name",
      "label":{
        "Roman Urdu":"Naam",
        "English":"First Name"
      },
      "type":"hidden",
      "instance":{
        "openmrs_entity":"person",
        "openmrs_entity_id":"first_name"
      }
    },
    {
      "name":"last_name",
      "label":{
        "Roman Urdu":"Walid ya shohar ka naam",
        "English":"Last Name"
      },
      "type":"hidden",
      "instance":{
        "openmrs_entity":"person",
        "openmrs_entity_id":"last_name"
      }
    },
    {
      "name":"pt_name_note",
      "label":{
        "Roman Urdu":"Mareez ka naam: ${first_name} ${last_name}",
        "English":"Patient Name: ${first_name} ${last_name}"
      },
      "type":"note"
    },
    {
      "name":"next_visit_date",
      "label":{
        "English":"Next Visit Date"
      },
      "type":"date",
      "bind":{
        "constraint":".> ${today}",
        "jr:constraintMsg":{
          "English":"Next visit date must be greater than current date"
        }
      },
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR: next visit date",
        "openmrs_entity_parent":"RETURN VISIT DATE"
      }
    },
    {
      "name":"next_growth_monitoring",
      "label":{
        "English":"Next Growth Monitoring check-up"
      },
      "type":"date",
      "bind":{
        "constraint":".> ${today}",
        "jr:constraintMsg":{
          "English":"Next visit date must be greater than current date"
        }
      },
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR: next growth monitoring check-up",
        "openmrs_entity_parent":"NEXT GROWTH MONITORING CHECK-UP"
      }
    },
    {
      "name":"weight",
      "label":{
        "English":"Weight"
      },
      "type":"decimal",
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR: weight",
        "openmrs_entity_parent":"weight (kg)"
      }
    },
    {
      "name":"height",
      "label":{
        "English":"Height"
      },
      "type":"decimal",
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR: height",
        "openmrs_entity_parent":"height (cm)"
      }
    },
    {
      "name":"height_for_age",
      "label":{
        "English":"Height for age status"
      },
      "type":"select one",
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR: height for age status",
        "openmrs_entity_parent":"Height for age status"
      },
      "children":[
        {
          "name":"low_height_age",
          "label":{
            "English":"Low height-age"
          }
        },
        {
          "name":"extremely_low_height_age",
          "label":{
            "English":"Extremely low height-age"
          }
        },
        {
          "name":"normal",
          "label":{
            "English":"Normal"
          }
        }
      ]
    },
    {
      "name":"weight_for_height",
      "label":{
        "English":"Weight for height status"
      },
      "type":"select one",
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR: weight for height status",
        "openmrs_entity_parent":"Weight for height status"
      },
      "children":[
        {
          "name":"low_weight_height",
          "label":{
            "English":"Low weight -height"
          }
        },
        {
          "name":"extremely_low_weight_height",
          "label":{
            "English":"Extremely low weight-height"
          }
        },
        {
          "name":"normal",
          "label":{
            "English":"Normal"
          }
        }
      ]
    },
    {
      "name":"hgb",
      "label":{
        "English":"Haemoglobin Level"
      },
      "type":"text",
      "bind":{
        "constraint":".>0 and .<=20"
      },
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR: haemoglobin",
        "openmrs_entity_parent":"Haemoglobin"
      }
    },
    {
      "name":"vaccines_received",
      "label":{
        "English":"Vaccines Received"
      },
      "type":"select all that apply",
      "instance":{
        "openmrs_entity_id":"TBR: vaccines"
      },
      "children":[
        {
          "name":"tuberculosis",
          "label":{
            "English":"Tuberculosis"
          }
        },
        {
          "name":"antiherpatitis",
          "label":{
            "English":"Antiherpatitis"
          }
        },
        {
          "name":"antipolio",
          "label":{
            "English":"Antipolio"
          }
        },
        {
          "name":"pentavalente",
          "label":{
            "English":"Pentavalente"
          }
        },
        {
          "name":"neumococo",
          "label":{
            "English":"Neumococo"
          }
        },
        {
          "name":"rotavirus",
          "label":{
            "English":"Rotavirus"
          }
        },
        {
          "name":"antipolio",
          "label":{
            "English":"Antipolio"
          }
        }
      ]
    },
    {
      "name":"deworming",
      "label":{
        "English":"Has the child received deworming"
      },
      "type":"select one",
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR: deworming",
        "openmrs_entity_parent":"Deworming"
      },
      "children":[
        {
          "name":"yes",
          "label":{
            "English":"Yes"
          }
        },
        {
          "name":"no",
          "label":{
            "English":"No"
          }
        }
      ]
    },
    {
      "name":"deworming_date",
      "label":{
        "English":"Date"
      },
      "type":"date",
      "bind":{
        "relevant":"${deworming}='yes'",
        "required":"yes",
        "constraint":".<=${today}"
      },
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR: deworming date",
        "openmrs_entity_parent":"Deworming date"
      }
    },
    {
      "name":"illnesses",
      "label":{
        "English":"Illnesses"
      },
      "type":"group",
      "children":[
        {
          "name":"diarrea",
          "label":{
            "English":"Diarrea"
          },
          "type":"select one",
          "instance":{
            "openmrs_entity":"concept",
            "openmrs_entity_id":"TBR: diarrea"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No"
              }
            }
          ]
        },
        {
          "name":"malaria",
          "label":{
            "English":"Malaria"
          },
          "type":"select one",
          "instance":{
            "openmrs_entity":"concept",
            "openmrs_entity_id":"TBR: malaria"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No"
              }
            }
          ]
        },
        {
          "name":"cold",
          "label":{
            "English":"Cold/Flu"
          },
          "type":"select one",
          "instance":{
            "openmrs_entity":"concept",
            "openmrs_entity_id":"TBR: cold"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No"
              }
            }
          ]
        },
        {
          "name":"pneumonia",
          "label":{
            "English":"Pneumonia"
          },
          "type":"select one",
          "instance":{
            "openmrs_entity":"concept",
            "openmrs_entity_id":"TBR: pneumonia"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No"
              }
            }
          ]
        },
        {
          "name":"tuberculosis",
          "label":{
            "English":"Tuberculosis"
          },
          "type":"select one",
          "instance":{
            "openmrs_entity":"concept",
            "openmrs_entity_id":"TBR: tuberculosis"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No"
              }
            }
          ]
        },
        {
          "name":"dengue",
          "label":{
            "English":"Dengue"
          },
          "type":"select one",
          "instance":{
            "openmrs_entity":"concept",
            "openmrs_entity_id":"TBR: dengue"
          },
          "children":[
            {
              "name":"yes",
              "label":{
                "English":"Yes"
              }
            },
            {
              "name":"no",
              "label":{
                "English":"No"
              }
            }
          ]
        }
      ]
    },
    {
      "name":"date",
      "type":"hidden",
      "bind":{
        "calculate":"${today}",
        "required":"yes"
      },
      "instance":{
        "openmrs_entity":"concept",
        "openmrs_entity_id":"TBR:sample collection date",
        "openmrs_entity_parent":"Specimen collection date"
      }
    },
    {
      "name":"meta",
      "type":"group",
      "control":{
        "bodyless":true
      },
      "children":[
        {
          "name":"instanceID",
          "type":"calculate",
          "bind":{
            "readonly":"true()",
            "calculate":"concat('uuid:', uuid())"
          }
        }
      ]
    }
  ]
}